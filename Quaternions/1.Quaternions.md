> 《Quaternion kinematics for the error-state Kalman filter 》
>
> Joan Sol`a 
>
> November 8, 2017 



#### 1.1 Definition of quaternion

One introduction to the quaternion that I find particularly attractive is given by the Cayley- Dickson construction: If we have two complex numbers A = a + bi and C = c + di, then constructing Q = A + Cj and defining k , ij yields a number in the space of quaternions H, 

​						$Q = a + bi + cj + dk \in  H ,$ 

where {a, b, c, d} 2 R, and {i, j, k} are three imaginary unit numbers defined so that 

$i2 =j2 =k2 =ijk=1,$ 

$ij=ji=k, jk=kj=i, ki=ik=j.$



纯虚四元数

$Q=bi+cj+dk \in Hp ---H.$

----

$z=e^{i\theta}$ 可代表二维平面的旋转，$x^{'} = z.x$

$q = e(u_xi+u_yj+u_zk)\theta/2$ 可代表三维旋转,  $x^{'} = q\otimes x\otimes q^{*}$,

四元数

$Q=q_w +q_xi+q_yj+q_zk , Q=q_w +q_v ,$ 

$Q = <q_w,q_v> $
$$
q=\begin{bmatrix}
q_w\\ q_v
\end{bmatrix} =\begin{bmatrix}
q_w\\q_x 
\\q_y 
\\q_z 
\end{bmatrix}
$$
![image-20190313104732688](/Users/test/Downloads/7-TestCode/__notebook/Quaternions/image-20190313104732688-2445252.png)

#### 1.2 quaternion properties

![image-20190313104911948](/Users/test/Downloads/7-TestCode/__notebook/Quaternions/image-20190313104911948-2445351.png)

![image-20190313105014619](/Users/test/Downloads/7-TestCode/__notebook/Quaternions/image-20190313105014619-2445414.png)

![image-20190313105226876](/Users/test/Downloads/7-TestCode/__notebook/Quaternions/image-20190313105226876-2445546.png)

总结一下：

- 四元素没有交换律只有结合律
- 注意qL和qR怎么写，他们两都是反对称矩阵
- (17)很重要
- 可以得出左右四元素的乘积等价于四元素对应的矩阵交换

![image-20190313105726665](/Users/test/Downloads/7-TestCode/__notebook/Quaternions/image-20190313105726665-2445846.png)



